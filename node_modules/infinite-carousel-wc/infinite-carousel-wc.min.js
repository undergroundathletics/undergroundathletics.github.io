const style="\n#s {\n  height: inherit;\n  width: inherit;\n  display: flex;\n  -webkit-overflow-scrolling: touch;\n  -ms-overflow-style: none;\n  overflow: -moz-scrollbars-none;\n}\n\n#s::-webkit-scrollbar {\n  display: none;\n}\n\n:host(:not([vertical])) #s {\n  flex-direction: row;\n  scroll-snap-coordinate: 0 0;\n  scroll-snap-points-x: repeat(100%);\n  scroll-snap-type: x mandatory;\n  overflow-x: auto;\n}\n\n:host([vertical]) #s {\n  flex-direction: column;\n  scroll-snap-coordinate: 0 0;\n  scroll-snap-points-y: repeat(100%);\n  scroll-snap-type: y mandatory;\n  overflow-y: auto;\n}\n\n#s > div {\n  width: 100%;\n  height: 100%;\n  flex: none;\n  scroll-snap-align: start;\n  scroll-snap-stop: always;\n}\n\n:host([lock]:not([vertical])) #s {\n  overflow-x: hidden;\n}\n\n:host([lock][vertical]) #s {\n  overflow-y: hidden;\n}\n\n::slotted(*) {\n  width: 100%;\n  height: 100%;\n}\n\n.previous {\n  order: 1;\n}\n\n.current {\n  order: 2;\n}\n\n.next {\n  order: 3;\n}\n\n.no-scroll {\n  overflow-x: hidden !important;\n  overflow-y: hidden !important;\n}\n",template='\n<div id="s">\n  <div id="1"><slot name="1"></slot></div>\n  <div id="2"><slot name="2"></slot></div>\n  <div id="3"><slot name="3"></slot></div>\n</div>\n',DEBOUNCE_TIMEOUT=200,templateElement=document.createElement("template");templateElement.innerHTML=`<style>${style}</style>${template}`;export class InfiniteCarouselWc extends HTMLElement{constructor(){super(),this.setSlotOrder.bind(this),this.upgradeProperty.bind(this),this.raiseNextEvent.bind(this),this.raisePreviousEvent.bind(this),this.goNext.bind(this),this.goPrevious.bind(this),this.reset.bind(this);this.attachShadow({mode:"open"}).appendChild(templateElement.content.cloneNode(!0)),this._scrollContainer=this.shadowRoot.getElementById("s"),this._slot1=this.shadowRoot.getElementById("1"),this._slot2=this.shadowRoot.getElementById("2"),this._slot3=this.shadowRoot.getElementById("3"),this._current=void 0,this._observer=new IntersectionObserver(((t,s)=>{for(let s=0,e=t.length;s<e;s++){const e=t[s];if(1===e.intersectionRatio){const t=Number(e.target.getAttribute("id"));if(t!==this._current){const s=this._current;this._current=t,this.setSlotOrder(s,this._current);break}}}}),{root:this._scrollContainer,threshold:1})}connectedCallback(){this._observer.observe(this._slot1),this._observer.observe(this._slot2),this._observer.observe(this._slot3),this.upgradeProperty("lock"),this.upgradeProperty("vertical")}disconnectedCallback(){this._observer.disconnect()}goNext(){this._lockScroll||this.lock||this._scrollContainer.scrollBy({left:this.vertical?void 0:this._scrollContainer.clientWidth,top:this.vertical?this._scrollContainer.clientHeight:void 0,behavior:"smooth"})}goPrevious(){this._lockScroll||this.lock||this._scrollContainer.scrollBy({left:this.vertical?void 0:-1*this._scrollContainer.clientWidth,top:this.vertical?-1*this._scrollContainer.clientHeight:void 0,behavior:"smooth"})}reset(){this._current=1,this.setSlotOrder(2,1)}upgradeProperty(t){if(this.hasOwnProperty(t)){let s=this[t];delete this[t],this[t]=s}}get currentSlot(){return void 0===this._current?1:this._current}get lock(){return this.hasAttribute("lock")}set lock(t){t?this.setAttribute("lock",""):this.removeAttribute("lock")}get vertical(){return this.hasAttribute("vertical")}set vertical(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical"),this.reset()}raiseNextEvent(t){this.dispatchEvent(new CustomEvent("next",{bubbles:!0,detail:t}))}raisePreviousEvent(t){this.dispatchEvent(new CustomEvent("previous",{bubbles:!0,detail:t}))}setSlotOrder(t,s){if(t===s||this._lockScroll)return;this._lockScroll=!0;const e=2===t&&1===s||3===t&&2===s||1===t&&3===s;switch(this._scrollContainer.classList.add("no-scroll"),this._observer.unobserve(this._slot1),this._observer.unobserve(this._slot2),this._observer.unobserve(this._slot3),s){case 1:setTimeout((()=>{e?this.raisePreviousEvent({newCurrent:s}):this.raiseNextEvent({newCurrent:s}),this._slot1.classList.remove("previous"),this._slot1.classList.remove("next"),this._slot1.classList.add("current"),this._slot3.classList.add("previous"),this._slot3.classList.remove("next"),this._slot3.classList.remove("current"),this._slot2.classList.remove("previous"),this._slot2.classList.add("next"),this._slot2.classList.remove("current"),this.vertical?this._scrollContainer.scrollTop=this._slot3.clientHeight:this._scrollContainer.scrollLeft=this._slot3.clientWidth,this._observer.observe(this._slot2),this._observer.observe(this._slot3),this._lockScroll=!1,this._scrollContainer.classList.remove("no-scroll")}),200);break;case 2:setTimeout((()=>{e?this.raisePreviousEvent({newCurrent:s}):this.raiseNextEvent({newCurrent:s}),this._slot1.classList.add("previous"),this._slot1.classList.remove("next"),this._slot1.classList.remove("current"),this._slot3.classList.remove("previous"),this._slot3.classList.add("next"),this._slot3.classList.remove("current"),this._slot2.classList.remove("previous"),this._slot2.classList.remove("next"),this._slot2.classList.add("current"),this.vertical?this._scrollContainer.scrollTop=this._slot1.clientHeight:this._scrollContainer.scrollLeft=this._slot1.clientWidth,this._observer.observe(this._slot1),this._observer.observe(this._slot3),this._lockScroll=!1,this._scrollContainer.classList.remove("no-scroll")}),200);break;case 3:setTimeout((()=>{e?this.raisePreviousEvent({newCurrent:s}):this.raiseNextEvent({newCurrent:s}),this._slot1.classList.remove("previous"),this._slot1.classList.add("next"),this._slot1.classList.remove("current"),this._slot3.classList.remove("previous"),this._slot3.classList.remove("next"),this._slot3.classList.add("current"),this._slot2.classList.add("previous"),this._slot2.classList.remove("next"),this._slot2.classList.remove("current"),this.vertical?this._scrollContainer.scrollTop=this._slot2.clientHeight:this._scrollContainer.scrollLeft=this._slot2.clientWidth,this._observer.observe(this._slot1),this._observer.observe(this._slot2),this._lockScroll=!1,this._scrollContainer.classList.remove("no-scroll")}),200);break;default:throw"newCurrentSlot has bad value: "+s}}}customElements.define("infinite-carousel-wc",InfiniteCarouselWc);